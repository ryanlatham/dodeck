# Checkpoint — 2025-10-25 10:05 PDT — Production env scaffolding

## Scope
- Added `infra/terraform/envs/prod` mirroring the staging stack (monitoring module, Secrets Manager, App Runner wiring) with production-oriented defaults and backend template.
- Documented the new environment in `infra/terraform/STATE_SETUP.md`, `service/DEPLOY_NOTES.md`, `docs/agents/{handoff,todo}.md`, and journal entries so operators know how to populate the upcoming `prod` GitHub environment.

## Diff Highlights
- `infra/terraform/envs/prod/{main.tf,variables.tf,backend.hcl.example}` — new Terraform environment.
- `infra/terraform/STATE_SETUP.md`, `service/DEPLOY_NOTES.md`, `docs/agents/{handoff,todo}.md` — describe prod secrets/state requirements and outstanding work.
- `docs/agents/journal.md` — logs this effort.

## Evidence
- `terraform -chdir=infra/terraform/envs/dev init -backend=false`
- `terraform -chdir=infra/terraform/envs/dev validate`
- `terraform -chdir=infra/terraform/envs/prod init -backend=false`
- `terraform -chdir=infra/terraform/envs/prod validate`
- `terraform -chdir=infra/terraform/envs/staging validate` (fails intermittently with "timeout while waiting for plugin to start"; retried multiple times)

## Risks / Follow-ups
- Need to resolve the intermittent `terraform validate` timeout on `infra/terraform/envs/staging` (likely provider plugin startup issue in this environment) before running `apply`.
- Provision prod AWS resources + GitHub environment secrets/approvals once infra is ready.
- Hook SNS/email subscribers to the monitoring module before launch.
