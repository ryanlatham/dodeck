# Checkpoint — 2025-10-22 08:05 PT

**Scope**
- Implemented FastAPI v1 decks/dos endpoints with owner/collaborator authorization and CORS config.
- Added Auth0 RS256 JWKS validation with override options for tests, plus settings/env parsing.
- Built DynamoDB repository for decks, dos, and access rows using transactional writes + cascade deletes.
- Expanded pytest suite with RSA token factory, dynamodb-local fixture, integration coverage; added `.env` template and deploy notes.

**Diff highlights**
- `service/src/main.py`: Register decks router, CORS, and last-chance exception handler.
- `service/src/api/v1/decks.py`: Endpoint implementations covering listing, CRUD, sharing, dos lifecycle.
- `service/src/repository.py`: Single-table data access, transactions, collaborator helpers.
- `service/tests/conftest.py`, `service/tests/test_decks_integration.py`: Auth fixtures, owner/collaborator acceptance tests.
- `service/.env.example`, `service/DEPLOY_NOTES.md`: Operator guidance for env vars and App Runner deployment.

**Evidence**
- `PYTHONPATH=src pytest` → 5 passed (dynamodb-local via docker-compose).
- `docker build -t dodeck-service:local .` → success.
- `curl http://localhost:8080/healthz` → 200 with version/environment; `/v1/decks` unauthenticated → 401.

**Risks / Follow-ups**
- DynamoDB table + IAM not yet provisioned; App Runner deploy pending.
- CI must orchestrate dynamodb-local and container build; add workflow soon.
- Pytest emits deprecation warnings for `datetime.utcnow()` from jose/botocore; monitor upstream or patch if needed.
