# Checkpoint — 2025-10-25 09:55 PDT — Promotion policy & workflow gates

## Scope
- Added explicit promotion guard job plus environment input validation to `.github/workflows/service.yml`, ensuring staging deploys only run from `main` and production deploys come from tags.
- Documented the new policy across the decision log, TODO list, and handoff notes; added backlog follow-ups for production scaffolding and alert routing.

## Diff Highlights
- `.github/workflows/service.yml` — new `promotion-policy` job, choice-based `environment` input, deploy job now depends on guard output/environment.
- `docs/agents/{journal,todo,decisions,handoff}.md` — logged work, marked promotion-task complete, captured decision details and updated outstanding work.
- `docs/agents/checkpoints/2025-10-25_09-55-PDT.md` — this summary.

## Evidence
- `actionlint`

## Risks / Follow-ups
- GitHub `staging`/`prod` environments must enforce manual approvals in the UI to complement the workflow checks.
- Production Terraform environment + alert routing still outstanding; recorded in TODOs.
